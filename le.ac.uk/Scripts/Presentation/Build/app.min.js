function ShowStartDates(a){a.ErrorMessage.trim()?showError(a):($("#selectCountry").prop("disabled",!0),variant.StartDates=a.StartDates,applyDates($(".js-startdate")),$(".js-startdate").fadeIn(1e3),1==a.StartDates.length&&GetStudyModes())}function GetStudyModes(){var a=new Object;a.IppCode=$(".ippCodeHidden").val(),0==variant.AvailableCountries.length?(a.Country="-1",$(".js-where-studying").hide()):a.Country=$("#selectCountry").val(),1==variant.StartDates.length?a.StartDate=$('input[name="entryDate"]:checked',".js-startdate").val():a.StartDate=$("#selectStartDate").val();var b={url:"/api/sits/GetStudyModes",dataType:"json",data:a,method:"POST",success:ShowStudyModes,error:showError,async:!1};$.ajax(b)}function ShowStudyModes(a){if(a.ErrorMessage.trim())showError(a);else{variant.AttendanceType=a.StudyModes;for(var b in variant.AttendanceType)"FT"==variant.AttendanceType[b]&&(variant.AttendanceType[b]="Full Time"),"PT"==variant.AttendanceType[b]&&(variant.AttendanceType[b]="Part Time");applyStudyOptions($(".js-studyOptions")),$(".js-studyOptions").fadeIn(1e3),$(".js-apply-continue-button").show(),$(".submit-button").fadeIn(1e3)}}function callSITS(a){sitsRequest.StudyMode=a.studyOption,sitsRequest.StartDate=a.startDate,sitsRequest.Country=a.country,getSitsResponse(sitsRequest),showError(sitsResponse),null!==sitsResponse.AgentUri?buildForm(sitsResponse,$(".js-apply-form")):window.location.replace(sitsResponse.DirectUri)}function VideoPopup(){var a={item:$(".js-video-popup")};this.initialise=function(){a.item.magnificPopup({type:"iframe",mainClass:"mfp-fade"})}}function setAriaExpandCollapse(){$(".expandable").find("ul:visible").each(function(){$(this).prev().prev().attr("aria-expanded","true")}),$(".expandable").find("ul:hidden").each(function(){$(this).prev().prev().attr("aria-expanded","false")})}function closeMenus(a){$(a).removeClass("js-menu-open").find(".mega-menu"),$(".mega-menu").slideUp("fast"),setTimeout(setAriaExpandCollapse,400)}function openMenu(a){var b=$(a).addClass("js-menu-open").find(".mega-menu");$(b).slideToggle("fast"),setTimeout(setAriaExpandCollapse,400)}function Accordion(){var a={dt:$(".js-accordion-dt"),dd:$(".js-accordion-dd")};this.initialise=function(){a.dt.click(function(){var a=$(this);return a.hasClass("none")||(a.hasClass("active")?a.removeClass("active").next().slideUp():(a.addClass("active"),a.next().slideDown())),!1}),$(".js-accordion-open-all").click(function(){a.dd.slideDown(),a.dt.addClass("active")}),$(".js-accordion-close-all").click(function(){a.dd.slideUp(),a.dt.removeClass("active")})}}function Equalheight(){function a(){var a=0,c=0,d=[];b.equal.each(function(){if($el=$(this),$($el).height("auto"),topPostion=$el.position().top,c!=topPostion){for(currentDiv=0;currentDiv<d.length;currentDiv++)d[currentDiv].height(a);d.length=0,c=topPostion,a=$el.height(),d.push($el)}else d.push($el),a=a<$el.height()?$el.height():a;for(currentDiv=0;currentDiv<d.length;currentDiv++)d[currentDiv].height(a)})}var b={equal:$(".equal")};this.initialise=function(){window.onload=function(){a()},window.onresize=function(){a()}}}function OpenFooterSlide(a){$(a).click(function(){$(this).toggleClass("active").next().stop().slideToggle()})}function Footer(){var a={slideButton:$(".js-footer-slide-btn"),slideBlock:$(".js-footer-slide-block")};this.initialise=function(){a.slideButton.click(function(){$(this).toggleClass("active").next().stop().slideToggle()})}}function TabDropdown(){var a={hoverItem:$(".desktop-dropdown")};this.initalise=function(){a.hoverItem.on("focus",function(){$(this).data("mouseDown")||$(this).click()})}}function Equalheight(){function a(){var a=0,c=0,d=[];b.equal.each(function(){if($el=$(this),$($el).height("auto"),topPostion=$el.position().top,c!=topPostion){for(currentDiv=0;currentDiv<d.length;currentDiv++)d[currentDiv].height(a);d.length=0,c=topPostion,a=$el.height(),d.push($el)}else d.push($el),a=a<$el.height()?$el.height():a;for(currentDiv=0;currentDiv<d.length;currentDiv++)d[currentDiv].height(a)})}var b={equal:$(".equal")};this.initialise=function(){window.onload=function(){a()},window.onresize=function(){a()}}}function Footer(){var a={slideButton:$(".js-footer-slide-btn"),slideBlock:$(".js-footer-slide-block")};this.initialise=function(){a.slideButton.click(function(){$(this).toggleClass("active").next().stop().slideToggle()})}}function MobileMenu(){var a={mobileBtn:$(".js-mobile-menu"),mobileDropdown:$(".js-sub-dropdown-btn"),navMobile:$(".js-nav-mobile")};this.initialise=function(){a.mobileBtn.click(function(b){b.preventDefault(),$("body").toggleClass("menu-active"),a.navMobile.slideToggle()}),a.mobileDropdown.click(function(a){$(this).parent().toggleClass("active").find(".js-mobile-column-container").slideToggle()})}}function Placeholder(){this.initialise=function(){$("html").hasClass("ie")&&($("[placeholder]").focus(function(){var a=$(this);a.val()==a.attr("placeholder")&&(a.val(""),a.removeClass("placeholder"))}).blur(function(){var a=$(this);(""===a.val()||a.val()==a.attr("placeholder"))&&(a.addClass("placeholder"),a.val(a.attr("placeholder")))}).blur(),$("[placeholder]").parents("form").submit(function(){$(this).find("[placeholder]").each(function(){var a=$(this);a.val()==a.attr("placeholder")&&a.val("")})}))}}function RandomFact(){var a={button:$(".js-random-fact-btn"),item:$(".js-fact-item")};this.initalise=function(){function b(){var b=Math.floor(Math.random()*a.item.length);a.item.stop().hide().eq(b).delay(100).fadeIn("slow")}a.button.click(function(){b()}),b()}}function headerNavigation(){function a(){var a=$(window).scrollTop(),f=a-e.y,g=a>=e.y?"down":"up";if(e.y=a,a>1?d.body.addClass("fixed"):d.body.removeClass("fixed"),!e.hover)if("down"==g&&a>250){if(2>f)return;c()}else{if(a>e.buffer&&f>-20)return;b()}}function b(){d.body.removeClass("hide-offscreen")}function c(){d.body.addClass("hide-offscreen")}var d={menu:$(".menu"),body:$("body")},e={hover:!1,y:0,buffer:100,open:!1};this.init=function(){$(window).scroll(a)}}function VideoPopup(){var a={item:$(".js-video-popup")};this.initialise=function(){a.item.magnificPopup({type:"iframe",mainClass:"mfp-fade"})}}function Placeholder(){this.initialise=function(){$("html").hasClass("ie")&&($("[placeholder]").focus(function(){var a=$(this);a.val()==a.attr("placeholder")&&(a.val(""),a.removeClass("placeholder"))}).blur(function(){var a=$(this);""!==a.val()&&a.val()!=a.attr("placeholder")||(a.addClass("placeholder"),a.val(a.attr("placeholder")))}).blur(),$("[placeholder]").parents("form").submit(function(){$(this).find("[placeholder]").each(function(){var a=$(this);a.val()==a.attr("placeholder")&&a.val("")})}))}}function RandomFact(){$(".js-random-fact-btn"),$(".js-fact-item");this.initalise=function(){numberOfDidYouKnows=$(".random-fact__item").length,numberOfDidYouKnows>0&&$(".random-fact__item:eq(0)").show(),$.fn.randomize=function(a){return(a?$(this).find(a):$(this).children()).parent().each(function(){$(this).children(a).sort(function(b,c){if($(c).index()!==$(this).children(a).length-1)return Math.round(Math.random())-.5}.bind(this)).detach().appendTo(this)}),this}},$(".js-random-fact-btn").unbind().click(function(){var a=getRandomInt(0,numberOfDidYouKnows);$(".random-fact__item").each(function(){$(this).hide()}),$(".random-fact__item:eq("+a+")").show()})}function getRandomInt(a,b){return Math.floor(Math.random()*(b-a))+a}function ReadMore(){var a={button:$(".js-show-more"),container:$(".js-readmore-container"),blockheight:$(".js-block-height")};this.initialise=function(){a.container.height()>a.blockheight.data("height")&&(a.container.addClass("js-readmore-active"),a.blockheight.css("height",function(){return $(this).data("height")})),a.button.on("click",function(){$(this).toggleClass("open"),$(this).parent(".js-readmore-container").toggleClass("open")})}}function smoothScroll(){$(".secondary.course-nav ul.more-menu-main a, .secondary.course-nav ul.more-menu-sub a").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var a=$(this.hash);if(a=a.length?a:$("[name="+this.hash.slice(1)+"]"),a.length)return $("html,body").animate({scrollTop:a.offset().top},1e3),!1}}),$(".secondary.course-nav ul.more-menu-main a, .secondary.course-nav ul.more-menu-sub a").click(function(){setTimeout(function(){$(document.body).addClass("hide-offscreen")},1e3)})}function HeaderNavigation(){"use strict";function a(){d.body.removeClass("hide-offscreen")}function b(){d.body.addClass("hide-offscreen")}function c(){var c=$(window).scrollTop(),f=c-e.y,g=c>=e.y?"down":"up";if(e.y=c,c>1?d.body.addClass("fixed"):d.body.removeClass("fixed"),!e.hover)if("down"===g&&c>250){if(f<2)return;b()}else{if(c>e.buffer&&f>-20)return;a()}}var d={menu:$(".menu"),body:$("body"),subMenu:$("#SubNav")},e={hover:!1,y:0,buffer:100,open:!1};d.subMenu.length&&d.body.addClass("has-sub"),this.init=function(){$(window).scroll(c)}}function SubNav(){"use strict";function a(){j=h.moreList.children().first(),j.length&&(h.moreItem.before(j),j.addClass("inTheVisibleNav"))}function b(){j=h.moreItem.prev("li"),j.removeClass("inTheVisibleNav"),h.moreItem.addClass("is-visible"),h.moreList.prepend(j)}function c(){h.subTitle.length&&(l=h.subTitle.outerWidth(!0)),k=h.subMenu.width()-(l+h.subList.outerWidth(!0)),m=h.moreList.first("li").outerWidth(!0),k>m&&(j=h.moreList.first("li"))}function d(){if(n<500&&n++,h.moreItem.hasClass("is-visible")&&(g+=h.moreItem.width()),h.subMenu.get(0).scrollHeight>h.subMenu.get(0).offsetHeight||h.subMenu.get(0).scrollWidth>h.subMenu.get(0).offsetWidth)b();else if(g<h.subMenu.get(0).scrollWidth){var d=h.subMenu.get(0).scrollWidth;if(h.moreItem.hasClass("is-visible")&&(d+=h.moreItem.width()),h.subTitle.length&&(l=h.subTitle.outerWidth(!0),d-=l),i=!1,g<d-120){var e=d-120-g,f=(h.moreList.children().first().width(),h.moreList.children().first().outerWidth(),h.moreList.children().first().innerWidth(),11*h.moreList.children().first().text().trim().length+40),j=h.moreList.children().length;j>1&&(e-=h.moreItem.width()),e>f&&a()}}else i=!1,c();return i}function e(){for(i=!0;!0===i;)d()}function f(){g=0,h.subList.children().each(function(){if($(this).hasClass("inTheVisibleNav")){g+=$(this).width()}}),h.subTitle.length&&(g+=h.subTitle.width())}var g,h={body:$("body"),header:$("header"),subMenu:$("#SubNav"),subList:$(".sub-nav__list"),subItem:$(".sub-nav__list-item"),subItemsStillInSubList:$("ul.sub-nav__list > li.sub-nav__list-item"),subTitle:$(".sub-nav__section-title"),moreList:$("#MoreList"),mobileMoreList:$("#MoreListMobile"),moreItem:$("#MoreItem"),hashLink:$("a[href*=#]:not([href=#])")},i=!0,j=null,k=0,l=0,m=0;String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")};var n;this.init=function(){n=0,n++,$("#MoreItemMobile").click(function(){h.mobileMoreList.toggleClass("is-visible")}),h.subMenu.length&&($(window).load(function(){h.moreList.removeClass("is-visible"),$(window).width()>699?(g=0,f(),e()):($("#MoreItemMobile").show(),h.subTitle.length&&h.subTitle.remove(),h.subList.children().each(function(){$(this).hasClass("inTheVisibleNav")&&h.moreList.prepend($(this))}),h.moreItem.addClass("is-visible"))}),$(window).resize(function(){h.moreList.removeClass("is-visible"),$(window).width()>699?setTimeout(function(){h.subTitle.length&&h.subMenu.prepend(h.subTitle);f(),e(),h.moreList.children().length>0&&h.subMenu.get(0).scrollHeight>h.subMenu.get(0).offsetHeight&&b()},150):($("#MoreItemMobile").show(),h.subTitle.length&&h.subTitle.remove(),h.subList.children().each(function(){$(this).hasClass("inTheVisibleNav")&&h.moreList.prepend($(this))}))}))}}function Tabs(){var a={tabSwitcher:$(".js-tab-link"),tabs:$(".js-tab")};this.initialise=function(){a.tabSwitcher.first().addClass("active"),$(".js-tab-container .js-tab:first-child").addClass("active"),a.tabSwitcher.click(function(a){a.preventDefault(),$(this).closest(".js-list-container").next(".js-tab-container").find(".js-tab").removeClass("active"),$("#"+$(this).data("tab")).addClass("active"),$(this).closest(".js-list-container").find(".js-tab-link").removeClass("active"),$(this).addClass("active")})}}function VideoPopup(){var a={item:$(".js-video-popup")};this.initialise=function(){a.item.magnificPopup({type:"iframe",mainClass:"mfp-fade"})}}function toggleRhn(){$("body").hasClass("fly-rhn-open")?closeFlyouts():(prepToOpen(),$("body").addClass("fly-rhn-open"))}function toggleGlobal(){$("body").hasClass("fly-global-open")?closeFlyouts():(prepToOpen(),$("body").addClass("fly-global-open"))}function toggleFilters(){$("body").hasClass("fly-filters-open")?closeFlyouts():(prepToOpen(),$("body").addClass("fly-filters-open"))}function prepToOpen(){closeFlyouts(),$(window).scrollTop(0)}function closeFlyouts(){$("body").removeClass("fly-rhn-open fly-global-open fly-filters-open")}function stopTabbing(){$(".header .site-search-container button, .header .site-search-container input").attr("tabindex","-1")}function startTabbing(){$(".header .site-search-container button, .header .site-search-container input").removeAttr("tabindex")}function siteSearchOpen(){$(".header .site-search-container").removeClass("offcanvas"),$(".header .site-search-container").removeClass("is-hidden"),$(".header .site-search-input").focus(),$(".btn-ssopen").addClass("open"),startTabbing()}function siteSearchClose(){$(".header .site-search-container").addClass("offcanvas"),$(".header .site-search-container").addClass("is-hidden"),$(".header .site-search-input").blur(),$(".btn-ssopen").removeClass("open"),$(".uber").removeAttr("style"),stopTabbing()}function hasScrolled(){var a=$(this).scrollTop();Math.abs(lastScrollTop-a)<=delta||(a>lastScrollTop&&a>navbarHeight?$("header").removeClass("nav-down").addClass("nav-up"):a+$(window).height()<$(document).height()&&$("header").removeClass("nav-up").addClass("nav-down"),lastScrollTop=a)}var variant={VariantName:"",Qualification:"",StartDates:[],AttendanceType:[],IppCode:"",AvailableCountries:[]},sitsResponse={DirectUri:"",AgentUri:"",AgentData:"",ErrorCode:"",AgentCode:""},sitsRequest={IppCode:"",StartDate:"",StudyMode:"",Country:""},getVariant=function(a){var b={url:"/api/sits/GetProgrammesByIpp?ippCode="+a,dataType:"json",method:"POST",success:setVariant,error:showError,async:!1};$.ajax(b)},setVariant=function(a){variant.AvailableCountries=a.AvailableCountries,0==variant.AvailableCountries.length?$(".js-where-studying").hide():$(".js-where-studying").fadeIn(1e3),applyLocations($(".js-where-studying")),$(".js-apply-form").show(),$(".loadingGif").hide(1e3)},getSitsResponse=function(a){var b={url:"/api/sits/",dataType:"json",data:a,method:"POST",success:setSitsResponse,error:showError,async:!1};$.ajax(b)},setSitsResponse=function(a){a.ErrorMessage.trim()?($(".errorMessage").text(a.ErrorMessage),$(".loadingGif").hide(),$(".sitsErrorWindow").fadeIn(1e3)):($(".sitsSuccessWindow").fadeIn(1e3),a.AgentUri&&a.DirectUri?($(".applyDirectlyLink").attr("href",a.DirectUri),$(".js-apply-direct-button").attr("href",a.DirectUri),$(".applyViaAgent").attr("href",a.AgentUri),$(".js-apply-via-agent-button").attr("href",a.AgentUri),$(".singleLink").hide(),$(".twoLinks").show(),$(".loadingGif").hide(),0!=a.AgentData.length?$(".applyViaAgentmessage").html(unescape(a.AgentData)):$(".js-readmore-container").hide()):!a.AgentUri&&a.DirectUri?($(".twoLinks").hide(),$(".singleLink").show(),$(".loadingGif").hide(),$(".sitsLink").text(a.DirectUri),$(".sitsLinkHref").attr("href",a.DirectUri),setTimeout(function(){window.location=a.DirectUri},4e3)):!a.DirectUri&&a.AgentUri&&($(".twoLinks").hide(),$(".singleLink").show(),$(".loadingGif").hide(),$(".sitsLink").text(a.AgentUri),$(".sitsLinkHref").attr("href",a.AgentUri))),sitsResponse=a},showError=function(a){return!1};$("#selectCountry").change(function(){if($("#selectCountry option:selected").index()>0){var a=new Object;a.IppCode=$(".ippCodeHidden").val(),a.Country=$("#selectCountry").val();var b={url:"/api/sits/GetStartDates",dataType:"json",data:a,method:"POST",success:ShowStartDates,error:showError,async:!1};$.ajax(b)}}),$("#selectStartDate").change(function(){GetStudyModes()});var applyLocations=function(a){if($(a).find("label").remove(),$("#selectCountry").empty(),0==variant.AvailableCountries.length){$("#selectCountry").hide();var b=new Object;b.IppCode=$(".ippCodeHidden").val(),b.Country="-1",$(".js-where-studying").hide();var c={url:"/api/sits/GetStartDates",dataType:"json",data:b,method:"POST",success:ShowStartDates,error:showError,async:!1};$.ajax(c)}else 0==$("#selectCountry option[value='Please select']").length&&$("#selectCountry").append($("<option></option>").attr("value","Please select").text("Please select")),variant.AvailableCountries.forEach(function(a){$("#selectCountry").append($("<option></option>").attr("value",a.Code).text(a.Name))})},applyDates=function(a){var b=!1;1==variant.StartDates.length&&(b=!0);var c="";$(a).find("label").remove(),$("#selectStartDate").empty(),variant.StartDates.forEach(function(d){if(b){$("#selectStartDate").hide();var e=$("<label>"),f=$("<input>").attr({checked:"",class:"sitsForm",name:"entryDate",type:"radio","data-bind":"checked:startDate",value:d}),g=d;$(e).append(f).append(g).appendTo(a)}else 0==$("#selectStartDate option[value='Please select']").length&&$("#selectStartDate").append($("<option></option>").attr("value","Please select").text("Please select")),$("#selectStartDate option").length!=variant.StartDates.length+1&&variant.StartDates.forEach(function(a){-1==c.indexOf(a)&&($("#selectStartDate").append($("<option></option>").attr("value",a).text(a)),c=c+"|"+a)}),$("#selectStartDate").show()})},applyStudyOptions=function(a){var b=!1;1==variant.AttendanceType.length&&(b=!0);var c="";$(a).find("label").remove(),variant.AttendanceType.forEach(function(d){if(b){var e=$("<label>"),f=$("<input>").attr({checked:"",class:"sitsForm",name:"attendance",type:"radio","data-bind":"checked:studyOption",value:d}),g=d;$(e).append(f).append(g).appendTo(a)}else{var e=$("<label>"),f=$("<input>").attr({class:"sitsForm",name:"attendance",type:"radio","data-bind":"checked:studyOption",value:d}),g=d;-1==c.indexOf(g)&&($(e).append(f).append(g).appendTo(a),c=c+"|"+g)}})},buildForm=function(a,b){var c=$("<div>"),d=$("<div>"),e=$("<div>").attr({class:"row"}),f=$("<div>").attr({class:"col-sm-6"}),g=$("<div>").attr({class:"col-sm-6"}),h=$("<a>").attr({href:a.DirectUri,class:"link-button"}).append("Apply direct"),i=$("<a>").attr({href:a.AgentUri,class:"link-button"}).append("Apply by agent");d.append(a.AgentData),c.append(d),f.append(h),g.append(i),e.append(f).append(g),c.append(e),b.replaceWith(c)},formClone=$(".js-apply-form").clone();$(".js-apply-button").on("click",function(){return callSITS(ko.toJS(viewModel)),!1}),$("#modalApply").on("show.bs.modal",function(a){if(a.relatedTarget){var b=$(a.relatedTarget);sitsRequest.IppCode=b.data("ipp"),variant.Qualification=b.data("variantname"),$(".ippCodeHidden").val(b.data("ipp")),$(".sitsQualification").text(b.data("qualification")),$(".sitsVariantName").text(b.data("variantname")),getVariant(sitsRequest.IppCode)}}),$("#modalApply").on("hidden.bs.modal",function(a){showError(),$("#selectCountry").prop("disabled",!1),$(".sitsErrorWindow").hide(),$(".js-startdate").hide(),$(".js-studyOptions").hide(),$(".js-where-studying").hide(),$(".sitsSuccessWindow").hide(),$(".sitsErrorWindow").hide(),$(".js-apply-continue-button").hide(),$(".js-link-list").replaceWith(formClone),$(".js-apply-button").on("click",function(){return callSITS(ko.toJS(viewModel)),!1})}),$('a[data-toggle="modal"]').click(function(a){$("#selectCountry").prop("disabled",!1),$(".js-startdate").hide(),$(".js-studyOptions").hide(),$(".js-where-studying").hide(),$(".sitsSuccessWindow").hide(),$(".sitsErrorWindow").hide(),$(".js-apply-continue-button").hide(),$("#modalApply").modal("show")}),$(".kisWidget").click(function(a){$("#videotranscript").modal("show")}),$(".js-apply-continue-button").click(function(a){$(".loadingGif").show(),$(".js-apply-form").hide(),$(".sitsSuccessWindow").hide(),$(".sitsErrorWindow").hide();var b=new Object;b.IppCode=$(".ippCodeHidden").val(),1==variant.StartDates.length?(b.StartDate=$('input[name="entryDate"]:checked',".js-startdate").val(),$(".js-where-studying").hide()):b.StartDate=$("#selectStartDate").val();var c=$('input[name="attendance"]:checked',".js-studyOptions").val();"Full Time"==c&&(c="FT"),"Part Time"==c&&(c="PT"),b.StudyMode=c,0==variant.AvailableCountries.length?($("#selectCountry").hide(),b.Country="-1",$(".js-where-studying").hide()):b.Country=$("#selectCountry").val();var d={url:"/api/sits/",dataType:"json",data:b,method:"POST",success:setSitsResponse,error:showError,async:!1};$.ajax(d)});var videopopup=new VideoPopup;videopopup.initialise(),setAriaExpandCollapse(),$(".mega-menu").on("click touchstart",function(a){a.stopPropagation()}),$(".js-has-mega-menu").on("click",function(a){a.preventDefault(),a.stopPropagation(),$(this).hasClass("js-menu-open")?closeMenus(this):(closeMenus(this),openMenu(this))}),$(document).on("click touchstart",function(a){closeMenus()}),$(document).on("scroll",function(){closeMenus()});var accordion=new Accordion;accordion.initialise(),$(".rhnlink").click(function(){window.location.href=$(this).attr("href")}),function(a){"use strict";function b(b){var c,d=b.attr("data-target")||(c=b.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");return a(d)}function c(b){return this.each(function(){var c=a(this),e=c.data("bs.collapse"),f=a.extend({},d.DEFAULTS,c.data(),"object"==typeof b&&b);!e&&f.toggle&&/show|hide/.test(b)&&(f.toggle=!1),e||c.data("bs.collapse",e=new d(this,f)),"string"==typeof b&&e[b]()})}var d=function(b,c){this.$element=a(b),this.options=a.extend({},d.DEFAULTS,c),this.$trigger=a('[data-toggle="collapse"][href="#'+b.id+'"],[data-toggle="collapse"][data-target="#'+b.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};d.VERSION="3.3.6",d.TRANSITION_DURATION=350,d.DEFAULTS={toggle:!0},d.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(b=e.data("bs.collapse"))&&b.transitioning)){var f=a.Event("show.bs.collapse");if(this.$element.trigger(f),!f.isDefaultPrevented()){e&&e.length&&(c.call(e,"hide"),b||e.data("bs.collapse",null));var g=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var h=function(){this.$element.removeClass("collapsing").addClass("collapse in")[g](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return h.call(this);var i=a.camelCase(["scroll",g].join("-"));this.$element.one("bsTransitionEnd",a.proxy(h,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])}}}},d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!a.support.transition)return e.call(this);this.$element[c](0).one("bsTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(d.TRANSITION_DURATION)}}},d.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},d.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(c,d){var e=a(d);this.addAriaAndCollapsedClass(b(e),e)},this)).end()},d.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass("in");a.attr("aria-expanded",c),b.toggleClass("collapsed",!c).attr("aria-expanded",c)};var e=a.fn.collapse;a.fn.collapse=c,a.fn.collapse.Constructor=d,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(d){var e=a(this);e.attr("data-target")||d.preventDefault();var f=b(e),g=f.data("bs.collapse"),h=g?"toggle":e.data();c.call(f,h)})}(jQuery),function(a){"use strict";function b(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}function c(c){c&&3===c.which||(a(e).remove(),a(f).each(function(){var d=a(this),e=b(d),f={relatedTarget:this};e.hasClass("open")&&(c&&"click"==c.type&&/input|textarea/i.test(c.target.tagName)&&a.contains(e[0],c.target)||(e.trigger(c=a.Event("hide.bs.dropdown",f)),c.isDefaultPrevented()||(d.attr("aria-expanded","false"),e.removeClass("open").trigger(a.Event("hidden.bs.dropdown",f)))))}))}function d(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new g(this)),"string"==typeof b&&d[b].call(c)})}var e=".dropdown-backdrop",f='[data-toggle="dropdown"]',g=function(b){a(b).on("click.bs.dropdown",this.toggle)};g.VERSION="3.3.6",g.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=b(e),g=f.hasClass("open");if(c(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click",c);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),f.toggleClass("open").trigger(a.Event("shown.bs.dropdown",h))}return!1}},g.prototype.keydown=function(c){if(/(38|40|27|32)/.test(c.which)&&!/input|textarea/i.test(c.target.tagName)){var d=a(this);if(c.preventDefault(),c.stopPropagation(),!d.is(".disabled, :disabled")){var e=b(d),g=e.hasClass("open");if(!g&&27!=c.which||g&&27==c.which)return 27==c.which&&e.find(f).trigger("focus"),d.trigger("click");var h=" li:not(.disabled):visible a",i=e.find(".dropdown-menu"+h);if(i.length){var j=i.index(c.target);38==c.which&&j>0&&j--,40==c.which&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus")}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on("click.bs.dropdown.data-api",c).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",f,g.prototype.toggle).on("keydown.bs.dropdown.data-api",f,g.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",g.prototype.keydown)}(jQuery),function(a){"use strict";function b(c,d){this.$body=a(document.body),this.$scrollElement=a(a(c).is(document.body)?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",a.proxy(this.process,this)),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})}b.VERSION="3.3.6",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b=this,c="offset",d=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),a.isWindow(this.$scrollElement[0])||(c="position",d=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var b=a(this),e=b.data("target")||b.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[c]().top+d,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]),b.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<e[0])return this.activeTarget=null,this.clear();for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(void 0===e[a+1]||b<e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,this.clear();var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")},b.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("bsTransitionEnd",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){if(a(b.target).is(this))return b.handleObj.handler.apply(this,arguments)}})})}(jQuery);var equalMe=new Equalheight;equalMe.initialise(),function(a,b){var c=jQuery,a=c(a),b=c(b);c.fn.CombineCheckboxes=function(a){c(this).click(function(){c(this).parent().find(".checkbox-list").each(function(){var a=c(this).find("input[type=checkbox]:checked"),b=c(this).find("input[type=checkbox]:first").prop("name"),d=document.createElement("input");c(d).attr({type:"hidden",name:b}),c(this).append(d);var e=[];a.each(function(){e.push(c(this).val().trim()),c(this).prop("disabled",!0)}),c(d).val(e.join(",")),0==c(d).val().length&&c(d).remove()}),c(this).parent().submit()})},c(".btn-applyfilters").CombineCheckboxes()}(document,window);var footer=new Footer;footer.initialise(),$(window).bind("resize load",function(){$(window).width()<750?($("footer .collapseThree").attr("id","collapseThree"),$("footer .collapseTwo").attr("id","collapseTwo"),$("footer .collapseOne").attr("id","collapseOne")):($("footer .collapse").removeAttr("id","collapseThree"),$("footer .collapse").removeAttr("id","collapseTwo"),$("footer .collapse").removeAttr("id","collapseOne"),$("footer .collapse").removeAttr("style"))});var tabdropdown=new TabDropdown;tabdropdown.initalise();var equalMe=new Equalheight;equalMe.initialise();var footer=new Footer;footer.initialise();var mobileMenu=new MobileMenu;mobileMenu.initialise();var placeholder=new Placeholder;placeholder.initialise();var randomfact=new RandomFact;randomfact.initalise();var header=new headerNavigation;header.init();var videopopup=new VideoPopup;videopopup.initialise();var placeholder=new Placeholder;placeholder.initialise();var numberOfDidYouKnows=0,randomfact=new RandomFact;randomfact.initalise();var readmore=new ReadMore;readmore.initialise();var RESPONSIVEUI={};!function(a){RESPONSIVEUI.responsiveTabs=function(){var b=a(".responsive-tabs");if(!b.hasClass("responsive-tabs--enabled")){b.addClass("responsive-tabs--enabled");var c=1
;b.each(function(){var b=a(this);b.children(":header").addClass("responsive-tabs__heading"),b.children("div").addClass("responsive-tabs__panel");var d=b.find(".responsive-tabs__panel--active");d.length||(d=b.find(".responsive-tabs__panel").first().addClass("responsive-tabs__panel--active")),b.find(".responsive-tabs__panel").not(".responsive-tabs__panel--active").hide().attr("aria-hidden","true"),d.attr("aria-hidden","false"),d.addClass("responsive-tabs__panel--closed-accordion-only");var e=a("<div/>",{class:"responsive-tabs-wrapper"});b.wrap(e);var f=0;b.find(".responsive-tabs__panel").each(function(){var b=a(this).height();b>f&&(f=b)});var g=a("<ul/>",{class:"responsive-tabs__list",role:"tablist"}),h=1;b.find(".responsive-tabs__heading").each(function(){var d=a(this),i=a(this).next();d.attr("tabindex",0);var j=a("<li/>",{class:"responsive-tabs__list__item",id:"tablist"+c+"-tab"+h,"aria-controls":"tablist"+c+"-panel"+h,role:"tab",tabindex:0,text:d.text(),keydown:function(a){13===a.keyCode&&j.click()},click:function(){e.css("height",f),b.find(".responsive-tabs__panel--closed-accordion-only").removeClass("responsive-tabs__panel--closed-accordion-only"),b.find(".responsive-tabs__panel--active").toggle().removeClass("responsive-tabs__panel--active").attr("aria-hidden","true").prev().removeClass("responsive-tabs__heading--active"),i.toggle().addClass("responsive-tabs__panel--active").attr("aria-hidden","false"),d.addClass("responsive-tabs__heading--active"),g.find(".responsive-tabs__list__item--active").removeClass("responsive-tabs__list__item--active"),j.addClass("responsive-tabs__list__item--active"),e.css("height","auto")}});i.attr({role:"tabpanel","aria-labelledby":j.attr("id"),id:"tablist"+c+"-panel"+h}),i.hasClass("responsive-tabs__panel--active")&&j.addClass("responsive-tabs__list__item--active"),g.append(j),d.keydown(function(a){13===a.keyCode&&d.click()}),d.click(function(){if(b.find(".responsive-tabs__panel--closed-accordion-only").removeClass("responsive-tabs__panel--closed-accordion-only"),d.hasClass("responsive-tabs__heading--active"))i.removeClass("responsive-tabs__panel--active").slideToggle(function(){a(this).addClass("responsive-tabs__panel--closed-accordion-only")}),d.removeClass("responsive-tabs__heading--active");else{var c,e=b.find(".responsive-tabs__heading--active");e.length&&(c=e.offset().top),b.find(".responsive-tabs__panel--active").slideToggle().removeClass("responsive-tabs__panel--active").prev().removeClass("responsive-tabs__heading--active"),b.find(".responsive-tabs__panel").hide().attr("aria-hidden","true"),i.slideToggle().addClass("responsive-tabs__panel--active").attr("aria-hidden","false"),d.addClass("responsive-tabs__heading--active");b.find(".responsive-tabs__list__item--active").removeClass("responsive-tabs__list__item--active");var f=i.attr("id"),g=f.replace("panel","tab");a("#"+g).addClass("responsive-tabs__list__item--active");var h=b.offset().top,j=d.offset().top-15;c<j&&a("html, body").animate({scrollTop:h},0).animate({scrollTop:j},400)}}),h++}),b.prepend(g),c++})}}}(jQuery),$(document).ready(function(){RESPONSIVEUI.responsiveTabs()}),$.fn.more_menu=function(a){var b,c,d,a=a||{},e=0,f=this.find(".more-menu-main"),g=this.find(".more-menu-toggle"),h=this.find(".more-menu-sub"),i=f.children().length,j=function(){f.children().css({display:"block",width:"auto"}),g.hide(),h.empty(),e=0,f.children().each(function(){e+=$(this).outerWidth()}),a.min_width&&$(window).width()<=a.min_width||(b=f.width()-g.width()-30,c=Math.floor(b/e*i)-1,d=f.children(":gt("+c+")"),h.append(d.clone()),d.css({display:"none",width:0}),d.length>0&&g.show())};$(document).ready(j),$(window).resize(j),$(".secondary").length&&$(document.body).addClass("has-sub"),$(".course-nav").length&&($(document.body).addClass("course-has-sub").removeClass("has-sub"),$("body").attr("data-spy","scroll").attr("data-target","#navbar"))},$(document).ready(function(){$(".secondary .more-menu").more_menu({min_width:750})}),$(smoothScroll);var header=new HeaderNavigation;header.init();var subNav=new SubNav;subNav.init();var tabs=new Tabs;tabs.initialise();var videopopup=new VideoPopup;videopopup.initialise(),$(".js-video-popup").click(function(){console.log("Video popup clicked")}),function(a,b){var c=jQuery,a=c(a),b=c(b);a.ready(function(){c(b).bind("resize load",function(){b.width()>1182?c(".introduction-block__right-column").height(c(".intro-block__info-boxes").height()+212):c(".introduction-block__right-column").height(350)})})}(document,window),$(".fly-rhn-btn").prependTo(".uber"),$(".fly-rhn-btn").on("click",toggleRhn),$(".fly-global-btn").on("click",toggleGlobal),$(".fly-filters-btn").on("click",toggleFilters),$(".fly-close, .primary-navigation__fly-close").on("click",closeFlyouts),$(document).bind("mouseup touchend",function(a){var b=$(".fly");b.is(a.target)||0!==b.has(a.target).length||$("button").is(a.target)||!$("body").is("[class^=fly-]")||closeFlyouts()}),$(".fly").parent().addClass("fly-parent"),stopTabbing(),$(".header .site-search-open").click(closeFlyouts),$(".header .site-search-close").click(closeFlyouts),$(document).click(siteSearchClose),$(".site-search-container").click(function(a){a.stopPropagation()}),$(".header .site-search-open").click(function(a){$(".btn-ssopen").hasClass("open")?$(siteSearchClose):($(siteSearchOpen),a.stopPropagation())});var didScroll,lastScrollTop=0,delta=5,navbarHeight=$("header").outerHeight();$(window).scroll(function(a){didScroll=!0}),setInterval(function(){didScroll&&(hasScrolled(),didScroll=!1)},250),$(window).on("resize load",function(){$(window).width()>757?($(".secondary").length&&$("body").addClass("sticky"),$(".course-nav").length&&$("body").addClass("sticky2")):($(".secondary").length&&$("body").removeClass("sticky"),$(".course-nav").length&&$("body").removeClass("sticky2"))}),jQuery(document).ready(function(){var a=500;jQuery(window).scroll(function(){jQuery(this).scrollTop()>400?jQuery(".back-to-top").fadeIn(a):jQuery(".back-to-top").fadeOut(a)}),jQuery(".back-to-top").click(function(b){return b.preventDefault(),jQuery("html, body").animate({scrollTop:0},a),!1})});